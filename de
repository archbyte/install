#!/bin/bash
echo
echo "Press 'Ctrl+c' to exit OR 'Enter' to continue"
read
#------------------------------------------------------------------------------------------------------------------------------------------
nmcli device wifi list
echo
read -p "Enter your wifi SSID: " ssid
read -p "Enter your wifi password: " wifipass
nmcli device wifi connect $ssid password $wifipass
echo
#------------------------------------------------------------------------------------------------------------------------------------------
sudo pacman -Syu
#------------------------------------------------------------------------------------------------------------------------------------------
sudo pacman -S --needed xorg-server xorg-xinit xorg-xprop gnome-shell nautilus gnome-system-monitor chrome-gnome-shell gnome-tweak-tool gnome-screenshot gnome-control-center gnome-terminal gnome-backgrounds gnome-power-manager chromium eog xdg-user-dirs git xdotool wmctrl plank synergy qt5-base tree neofetch gdm reflector gparted
#------------------------------------------------------------------------------------------------------------------------------------------
git clone https://aur.archlinux.org/yay.git
cd yay
makepkg -si
cd /home/$USER
yay -S pamac nautilus-admin sublime-text-dev libinput-gestures automathemely la-capitaine-icon-theme capitaine-cursors
echo
#------------------------------------------------------------------------------------------------------------------------------------------
echo "Enabling gdm service..."
sudo systemctl enable gdm
echo
#------------------------------------------------------------------------------------------------------------------------------------------
sudo sed -i '/WaylandEnable=false/s/^#//' /etc/gdm/custom.conf
echo '# Enable automatic login for user' | sudo tee --append /etc/gdm/custom.conf
echo '[daemon]' | sudo tee --append /etc/gdm/custom.conf
echo 'AutomaticLogin=navtoj' | sudo tee --append /etc/gdm/custom.conf
echo 'AutomaticLoginEnable=True' | sudo tee --append /etc/gdm/custom.conf
echo
#
echo Replace "navtoj" with your username in the following file. Press ENTER to continue.
read
sudo nano /etc/gdm/custom.conf
sudo -u gdm dbus-launch gsettings set org.gnome.desktop.peripherals.touchpad tap-to-click true
#------------------------------------------------------------------------------------------------------------------------------------------
echo "Editing /etc/hosts file for sublime text..."
echo '127.0.0.1       www.sublimetext.com' | sudo tee --append /etc/hosts
echo '127.0.0.1       license.sublimehq.com'| sudo tee --append /etc/hosts
#------------------------------------------------------------------------------------------------------------------------------------------
cp /etc/libinput-gestures.conf ~/.config/libinput-gestures.conf
sed -i '50s/.*/gesture swipe up 4 _internal ws_up/' ~/.config/libinput-gestures.conf
sed -i '63s/.*/gesture swipe down 4 _internal ws_down/' ~/.config/libinput-gestures.conf
sed -i '67s/.*/gesture swipe left 4 xdotool key alt+Right/' ~/.config/libinput-gestures.conf
sed -i '70s/.*/gesture swipe right 4 xdotool key alt+Left/' ~/.config/libinput-gestures.conf
sed -i '118s/.*/gesture swipe left_up 4 xdotool key super+a/' ~/.config/libinput-gestures.conf
sed -i '119s/.*/gesture swipe left_down 4 xdotool key super+s/' ~/.config/libinput-gestures.conf
#------------------------------------------------------------------------------------------------------------------------------------------
sudo gpasswd -a $USER input
mkdir /home/$USER/.config/autostart
cp /usr/share/applications/libinput-gestures.desktop /home/$USER/.config/autostart
cp /usr/share/applications/plank.desktop /home/$USER/.config/autostart
cp /usr/share/applications/synergy.desktop /home/$USER/.config/autostart
#------------------------------------------------------------------------------------------------------------------------------------------
sudo ln -sf /dev/null /etc/systemd/system/avahi-daemon.service
sudo ln -sf /dev/null /etc/systemd/system/avahi-daemon.socket
sudo ln -sf /dev/null /etc/systemd/system/dbus-org.freedesktop.Avahi.service
sudo bash -c "echo 'NoDisplay=true' >> /usr/share/applications/avahi-discover.desktop"
sudo bash -c "echo 'NoDisplay=true' >> /usr/share/applications/bssh.desktop"
sudo bash -c "echo 'NoDisplay=true' >> /usr/share/applications/bvnc.desktop"
sudo update-desktop-database
#------------------------------------------------------------------------------------------------------------------------------------------
echo "export PATH=doublequotes/root/.gem/ruby/2.5.0/bin:dollarsignPATHdoublequotes" >> ~/.bashrc
sudo sed -i '10s/doublequotes/"/' ~/.bashrc
sudo sed -i '10s/doublequotes/"/' ~/.bashrc
sudo sed -i '10s/dollarsign/$/' ~/.bashrc
#------------------------------------------------------------------------------------------------------------------------------------------
gsettings set org.gnome.desktop.peripherals.touchpad tap-to-click true
gsettings set org.gnome.desktop.interface clock-format 12h
#------------------------------------------------------------------------------------------------------------------------------------------
cd /home/$USER
sudo rm -r yay
sudo rm /chroot
sudo reboot
